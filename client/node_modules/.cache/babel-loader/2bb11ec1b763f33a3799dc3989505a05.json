{"ast":null,"code":"import _classCallCheck from\"/Users/antoinedumont/Documents/project_ratt/mern-stack/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/antoinedumont/Documents/project_ratt/mern-stack/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/antoinedumont/Documents/project_ratt/mern-stack/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/antoinedumont/Documents/project_ratt/mern-stack/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Link}from\"react-router-dom\";import React,{Component}from\"react\";var Nav=/*#__PURE__*/function(_Component){_inherits(Nav,_Component);var _super=_createSuper(Nav);function Nav(props){var _this;_classCallCheck(this,Nav);_this=_super.call(this,props);_this.state={auth:props.auth};return _this;}_createClass(Nav,[{key:\"islogged\",value:function islogged(){var token=localStorage.getItem(\"token\");return!!token;}},{key:\"getUser\",value:function getUser(){var user=JSON.parse(localStorage.getItem('token'));if(user!==null){return user._id;}return null;}},{key:\"componentDidMount\",value:function componentDidMount(){this.setState({auth:this.islogged()});}},{key:\"render\",value:function render(){var check=this.state;//cons\nif(check.auth){return/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar navbar-expand-lg navbar-light bg-light\",children:[/*#__PURE__*/_jsx(Link,{to:\"/home\",className:\"navbar-brand\",children:\"Accueil\"}),/*#__PURE__*/_jsx(\"div\",{className:\"collpase navbar-collapse\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav mr-auto\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"navbar-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/all\",className:\"nav-link\",children:\"User List\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"navbar-item\",children:/*#__PURE__*/_jsx(Link,{to:{pathname:\"/me\",state:{user_id:this.getUser()}},className:\"nav-link\",children:\"My profile\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"navbar-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/logout\",className:\"nav-link\",children:\"Logout\"})})]})})]});}else{return/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar navbar-expand-lg navbar-light bg-light\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"navbar-brand\",children:\"Accueil\"}),/*#__PURE__*/_jsx(\"div\",{className:\"collpase navbar-collapse\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"navbar-nav mr-auto\",children:/*#__PURE__*/_jsx(\"li\",{className:\"navbar-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/create\",className:\"nav-link\",children:\"Register\"})})})})]});}}}]);return Nav;}(Component);export{Nav as default};","map":{"version":3,"sources":["/Users/antoinedumont/Documents/project_ratt/mern-stack/client/src/Components/Navbar/nav.js"],"names":["Link","React","Component","Nav","props","state","auth","token","localStorage","getItem","user","JSON","parse","_id","setState","islogged","check","pathname","user_id","getUser"],"mappings":"wxBAAA,OAAQA,IAAR,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,C,GAEqBC,CAAAA,G,0FACjB,aAAYC,KAAZ,CAAmB,qCACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACTC,IAAI,CAAEF,KAAK,CAACE,IADH,CAAb,CAFe,aAKlB,C,2DACS,CACN,GAAIC,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ,CAEA,MAAO,CAAC,CAACF,KAAT,CACH,C,yCAEQ,CACL,GAAIG,CAAAA,IAAI,CAAGC,IAAI,CAACC,KAAL,CAAYJ,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ,CAAX,CAEA,GAAIC,IAAI,GAAK,IAAb,CAAmB,CACf,MAAOA,CAAAA,IAAI,CAACG,GAAZ,CACH,CAED,MAAO,KAAP,CACH,C,6DAEkB,CACf,KAAKC,QAAL,CAAe,CAAER,IAAI,CAAE,KAAKS,QAAL,EAAR,CAAf,EACH,C,uCAEQ,CAEL,GAAIC,CAAAA,KAAK,CAAG,KAAKX,KAAjB,CACA;AAEA,GAAIW,KAAK,CAACV,IAAV,CAAgB,CACZ,mBAEI,aAAK,SAAS,CAAC,+CAAf,wBACI,KAAC,IAAD,EAAM,EAAE,CAAC,OAAT,CAAiB,SAAS,CAAC,cAA3B,qBADJ,cAEI,YAAK,SAAS,CAAC,0BAAf,uBACI,YAAI,SAAS,CAAC,oBAAd,wBACI,WAAI,SAAS,CAAC,aAAd,uBACI,KAAC,IAAD,EAAM,EAAE,CAAC,MAAT,CAAgB,SAAS,CAAC,UAA1B,uBADJ,EADJ,cAII,WAAI,SAAS,CAAC,aAAd,uBACI,KAAC,IAAD,EAAM,EAAE,CAAE,CAAEW,QAAQ,CAAC,KAAX,CAAkBZ,KAAK,CAAE,CAAEa,OAAO,CAAE,KAAKC,OAAL,EAAX,CAAzB,CAAV,CAAiE,SAAS,CAAC,UAA3E,wBADJ,EAJJ,cAOI,WAAI,SAAS,CAAC,aAAd,uBACI,KAAC,IAAD,EAAM,EAAE,CAAC,SAAT,CAAmB,SAAS,CAAC,UAA7B,oBADJ,EAPJ,GADJ,EAFJ,GAFJ,CAmBH,CApBD,IAqBI,CACA,mBAEI,aAAK,SAAS,CAAC,+CAAf,wBACI,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,SAAS,CAAC,cAAvB,qBADJ,cAEI,YAAK,SAAS,CAAC,0BAAf,uBACI,WAAI,SAAS,CAAC,oBAAd,uBACI,WAAI,SAAS,CAAC,aAAd,uBACI,KAAC,IAAD,EAAM,EAAE,CAAC,SAAT,CAAmB,SAAS,CAAC,UAA7B,sBADJ,EADJ,EADJ,EAFJ,GAFJ,CAaH,CAEJ,C,iBArE4BjB,S,SAAZC,G","sourcesContent":["import {Link} from \"react-router-dom\";\nimport React, { Component } from \"react\";\n\nexport default class Nav extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            auth: props.auth\n        }\n    }\n    islogged(){\n        let token = localStorage.getItem(\"token\");\n\n        return !!token;\n    }\n\n    getUser(){\n        let user = JSON.parse( localStorage.getItem('token') );\n\n        if( user !== null ){\n            return user._id\n        }\n\n        return null;\n    }\n\n    componentDidMount(){\n        this.setState( { auth: this.islogged() } );\n    }\n\n    render() {\n\n        let check = this.state;\n        //cons\n\n        if( check.auth ){\n            return(\n\n                <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\n                    <Link to=\"/home\" className=\"navbar-brand\">Accueil</Link>\n                    <div className=\"collpase navbar-collapse\">\n                        <ul className=\"navbar-nav mr-auto\">\n                            <li className=\"navbar-item\">\n                                <Link to=\"/all\" className=\"nav-link\">User List</Link>\n                            </li>\n                            <li className=\"navbar-item\">\n                                <Link to={{ pathname:\"/me\", state: { user_id: this.getUser()} }} className=\"nav-link\">My profile</Link>\n                            </li>\n                            <li className=\"navbar-item\">\n                                <Link to=\"/logout\" className=\"nav-link\">Logout</Link>\n                            </li>\n                        </ul>\n                    </div>\n                </nav>\n            )\n        }\n        else{\n            return(\n\n                <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\n                    <Link to=\"/\" className=\"navbar-brand\">Accueil</Link>\n                    <div className=\"collpase navbar-collapse\">\n                        <ul className=\"navbar-nav mr-auto\">\n                            <li className=\"navbar-item\">\n                                <Link to=\"/create\" className=\"nav-link\">Register</Link>\n                            </li>\n                        </ul>\n                    </div>\n                </nav>\n            )\n        }\n\n    }\n}\n"]},"metadata":{},"sourceType":"module"}