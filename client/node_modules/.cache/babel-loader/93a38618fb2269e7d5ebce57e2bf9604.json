{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/antoinedumont/Documents/project_ratt/mern-stack/client/src/Components/GetUser.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport E403 from \"./errors/E403\";\nimport Nav from \"./Navbar/nav\";\n\nconst config = require(\"../env\").config;\n\nconst uri = require(\"../env\").api_uri;\n\nconst User = props => /*#__PURE__*/_jsxDEV(\"tr\", {\n  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n    children: props.user.name\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n    children: props.user.lastname\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n    children: props.user.birthdate\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n    children: props.user.email\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n    children: /*#__PURE__*/_jsxDEV(Link, {\n      className: \"btn btn-warning\",\n      to: \"/edit/\" + props.user._id,\n      children: \"Edit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n    children: /*#__PURE__*/_jsxDEV(Link, {\n      className: \"btn btn-danger\",\n      to: \"/delete/\" + props.user._id,\n      children: \"Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 11,\n  columnNumber: 5\n}, this);\n\n_c = User;\nexport default class GetUser extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: [],\n      error: ''\n    };\n  }\n\n  componentDidMount() {\n    const user = JSON.parse(localStorage.getItem('token'));\n    let config = {\n      headers: {\n        Authorization: `Bearer ${user !== null ? user.token : null}`\n      }\n    };\n    axios.get(uri + '/users', config).then(response => {\n      this.setState({\n        users: response.data\n      });\n      this.setState({\n        error: ''\n      });\n    }).catch(error => {\n      this.setState({\n        error: error.message\n      });\n    });\n  }\n\n  userList() {\n    return this.state.users.map(function (currentUser, i) {\n      return /*#__PURE__*/_jsxDEV(User, {\n        user: currentUser\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 24\n      }, this);\n    });\n  }\n\n  render() {\n    if (this.state.error) {\n      return /*#__PURE__*/_jsxDEV(E403, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Nav, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Users List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table table-striped\",\n          style: {\n            marginTop: 20\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Lastame\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Birthdate\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: this.userList()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this);\n    }\n  }\n\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"User\");","map":{"version":3,"sources":["/Users/antoinedumont/Documents/project_ratt/mern-stack/client/src/Components/GetUser.js"],"names":["React","Component","Link","axios","E403","Nav","config","require","uri","api_uri","User","props","user","name","lastname","birthdate","email","_id","GetUser","constructor","state","users","error","componentDidMount","JSON","parse","localStorage","getItem","headers","Authorization","token","get","then","response","setState","data","catch","message","userList","map","currentUser","i","render","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport E403 from \"./errors/E403\";\nimport Nav from \"./Navbar/nav\"\n\nconst config = require(\"../env\").config;\nconst uri = require(\"../env\").api_uri;\n\nconst User = props => (\n    <tr>\n        <td>{props.user.name}</td>\n        <td>{props.user.lastname}</td>\n        <td>{props.user.birthdate}</td>\n        <td>{props.user.email}</td>\n        <td>\n            <Link className=\"btn btn-warning\" to={\"/edit/\"+props.user._id}>Edit</Link>\n        </td>\n        <td>\n            <Link className=\"btn btn-danger\" to={\"/delete/\"+props.user._id}>Delete</Link>\n        </td>\n    </tr>\n)\nexport default class GetUser extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {users: [], error: '' };\n    }\n\n     componentDidMount() {\n\n         const user = JSON.parse( localStorage.getItem('token') );\n         let config = {\n             headers: { Authorization: `Bearer ${ user !== null ? user.token : null }` }\n         }\n\n         axios.get( uri + '/users', config)\n             .then(response => {\n                this.setState({ users: response.data });\n                this.setState( { error: '' } );\n            })\n            .catch( error => {\n                this.setState({ error: error.message });\n            })\n    }\n\n    userList() {\n            return this.state.users.map(function(currentUser, i){\n                return <User user={currentUser} key={i} />;\n            })\n\n    }\n\n    render() {\n\n        if( this.state.error ){\n\n            return (\n                    <E403 />\n\n        );\n        }\n        else{\n            return (\n                <div>\n                    <Nav />\n                    <h3>Users List</h3>\n                    <table className=\"table table-striped\" style={{ marginTop: 20 }} >\n                        <thead>\n                        <tr>\n                            <th>Name</th>\n                            <th>Lastame</th>\n                            <th>Birthdate</th>\n                            <th>Email</th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        { this.userList() }\n                        </tbody>\n                    </table>\n                </div>\n            );\n        }\n\n    }\n}"]},"metadata":{},"sourceType":"module"}